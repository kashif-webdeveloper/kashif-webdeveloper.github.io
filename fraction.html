<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PTXNYWJ847"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-PTXNYWJ847');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5524773081921512" crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-5524773081921512">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Kashif's Fraction Calculator - Solve, simplify, and convert fractions and mixed numbers instantly. Free online math tool.">
    
    <title>Fraction Calculator - Kashif's Pro Tools</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e293b">
    
    <style>
        /* --- CORE STYLES --- */
        :root {
            --bg-dark: #0f172a;
            --calc-body: #1e293b;
            --screen: #334155;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --accent: #06b6d4;
            --btn-bg: #475569;
            --sidebar-bg: #1e293b;
            --modal-bg: #1e293b;
            --shadow: rgba(0,0,0,0.5);
            --danger: #ef4444;
        }

        body.light-mode {
            --bg-dark: #f1f5f9;
            --calc-body: #ffffff;
            --screen: #e2e8f0;
            --text: #0f172a;
            --text-muted: #64748b;
            --accent: #0891b2;
            --btn-bg: #cbd5e1;
            --sidebar-bg: #ffffff;
            --modal-bg: #ffffff;
            --shadow: rgba(0,0,0,0.15);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, sans-serif; }
        body { background-color: var(--bg-dark); color: var(--text); height: 100vh; overflow-x: hidden; display: flex; flex-direction: column; transition: 0.3s; }

        /* HEADER */
        header { height: 60px; background: var(--calc-body); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; border-bottom: 1px solid var(--screen); z-index: 2000; box-shadow: 0 2px 10px var(--shadow); }
        .hamburger { font-size: 24px; cursor: pointer; color: var(--accent); padding: 10px; }
        .brand { font-size: 18px; font-weight: bold; letter-spacing: 1px; color: var(--text); text-decoration: none; }
        .brand span { color: var(--accent); }

        /* MAIN LAYOUT */
        .main-content { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 20px 10px; overflow-y: auto; }
        
        /* FRACTION CALCULATOR SPECIFIC STYLES */
        .calc-container { width: 100%; max-width: 600px; background: var(--calc-body); border-radius: 20px; padding: 25px; box-shadow: 0 10px 25px var(--shadow); margin-bottom: 30px; transition: background 0.3s; }
        
        .frac-group { display: flex; align-items: center; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        
        /* Fraction Input Styling */
        .fraction-input { display: flex; flex-direction: column; align-items: center; width: 80px; }
        .fraction-input input { width: 100%; text-align: center; background: var(--screen); border: 1px solid var(--text-muted); color: var(--text); font-size: 18px; padding: 8px; border-radius: 5px; outline: none; }
        .fraction-input input:focus { border-color: var(--accent); }
        .frac-line { width: 100%; height: 2px; background: var(--text); margin: 5px 0; }
        
        /* Whole number input for mixed fractions */
        .whole-input { width: 50px; height: 50px; text-align: center; background: var(--screen); border: 1px solid var(--text-muted); color: var(--text); font-size: 18px; border-radius: 5px; margin-right: 5px; display: none; }
        .mixed-mode .whole-input { display: block; }

        /* Operator Selector */
        .operator-select { font-size: 24px; background: var(--btn-bg); color: var(--text); border: none; padding: 5px 10px; border-radius: 8px; cursor: pointer; }

        /* Buttons */
        .action-btn { width: 100%; background: var(--accent); color: white; font-weight: bold; font-size: 18px; padding: 15px; border: none; border-radius: 12px; cursor: pointer; margin-top: 10px; transition: 0.2s; }
        .action-btn:active { transform: translateY(2px); }
        .clear-btn { background: var(--danger); margin-top: 10px; }

        /* Result Display */
        .result-box { margin-top: 25px; padding: 20px; background: var(--screen); border-radius: 12px; text-align: center; border: 1px solid var(--text-muted); }
        .result-title { color: var(--text-muted); font-size: 0.9rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .result-value { font-size: 1.5rem; font-weight: bold; color: var(--accent); display: flex; align-items: center; justify-content: center; gap: 10px; }
        
        /* TABS */
        .tabs { display: flex; background: var(--bg-dark); border-radius: 10px; padding: 4px; margin-bottom: 20px; }
        .tab { flex: 1; text-align: center; padding: 12px; border-radius: 8px; color: var(--text-muted); cursor: pointer; transition: 0.2s; font-size: 14px; }
        .tab.active { background: var(--accent); color: white; font-weight: bold; }

        /* SEO CONTENT STYLES */
        .seo-section { width: 100%; max-width: 800px; margin-top: 10px; padding: 30px; background: var(--calc-body); border-radius: 12px; border: 1px solid var(--screen); color: var(--text); margin-bottom: 20px; }
        .seo-section h2 { color: var(--accent); font-size: 1.6rem; margin-bottom: 20px; border-bottom: 1px solid var(--screen); padding-bottom: 10px; }
        .seo-section h3 { color: var(--text); font-size: 1.3rem; margin-top: 25px; margin-bottom: 15px; }
        .seo-section p { font-size: 1rem; color: var(--text-muted); line-height: 1.8; margin-bottom: 15px; text-align: justify; }
        .seo-section ul { margin-bottom: 15px; padding-left: 20px; color: var(--text-muted); }
        .seo-section li { margin-bottom: 8px; }

        /* SIDEBAR & OVERLAY */
        .overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); z-index: 4000; opacity: 0; pointer-events: none; transition: 0.3s; backdrop-filter: blur(2px); }
        .overlay.active { opacity: 1; pointer-events: all; }
        
        .sidebar { position: fixed; top: 0; left: -300px; width: 280px; height: 100%; background: var(--sidebar-bg); z-index: 5000; transition: transform 0.3s ease; box-shadow: 5px 0 20px var(--shadow); padding: 20px; display: flex; flex-direction: column; overflow-y: auto; }
        .sidebar.open { transform: translateX(300px); }
        
        .profile { text-align: center; border-bottom: 1px solid var(--screen); padding-bottom: 20px; margin-bottom: 20px; }
        .avatar { width: 80px; height: 80px; background: linear-gradient(45deg, var(--accent), #3b82f6); border-radius: 50%; margin: 40px auto 15px; display: flex; align-items: center; justify-content: center; font-size: 30px; font-weight: bold; color: white; }
        
        .menu-item { padding: 15px; color: var(--text-muted); border-radius: 8px; margin-bottom: 5px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.2s; text-decoration: none; }
        .menu-item:hover, .menu-item:active { background: var(--screen); color: var(--accent); }

        /* MODALS */
        .modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); width: 85%; max-width: 320px; background: var(--modal-bg); border: 1px solid var(--screen); border-radius: 16px; padding: 20px; z-index: 6000; opacity: 0; pointer-events: none; transition: 0.2s, background 0.3s; box-shadow: 0 20px 50px rgba(0,0,0,0.6); max-height: 90vh; overflow-y: auto; }
        .modal.active { opacity: 1; pointer-events: all; transform: translate(-50%, -50%) scale(1); }
        .modal h3 { margin-bottom: 15px; color: var(--accent); text-align: center; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 5px; }
        .input-group input { width: 100%; padding: 10px; background: var(--screen); border: 1px solid var(--text-muted); color: var(--text); border-radius: 6px; }
        .modal-btn { width: 100%; background: var(--accent); color: white; font-weight: bold; padding: 12px; border-radius: 6px; margin-top: 10px; display: block; text-align: center; text-decoration: none; border: none; cursor: pointer; }
        .close-modal { position: absolute; top: 10px; right: 15px; color: var(--text-muted); font-size: 24px; cursor: pointer; }

        /* SWITCHES */
        .switch-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 0 10px; }
        .switch-label { color: var(--text); font-weight: 500; }
        .switch { position: relative; display: inline-block; width: 50px; height: 26px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--screen); transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent); }
        input:checked + .slider:before { transform: translateX(24px); }

        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: #10b981; color: white; padding: 10px 20px; border-radius: 30px; font-size: 14px; opacity: 0; transition: 0.3s; z-index: 7000; pointer-events: none; }
        .toast.show { opacity: 1; bottom: 50px; }
        
        .footer-credit { margin-top: auto; text-align: center; font-size: 0.8rem; color: var(--text-muted); padding: 20px 0; border-top: 1px solid var(--screen); width: 100%; }
        .footer-credit span { color: var(--accent); font-weight: 700; }
        .footer-credit a { color: var(--accent); text-decoration: none; margin: 0 5px; cursor: pointer; }

        @media(max-width: 450px) {
            .frac-group { gap: 5px; }
            .fraction-input { width: 60px; }
        }
    </style>
</head>
<body>

    <div class="overlay" id="overlay" onclick="closeAll()"></div>
    <div class="toast" id="toast">Action Successful</div>

    <div class="sidebar" id="sidebar">
        <div style="position:absolute; top:15px; right:15px; font-size:24px; padding:10px; color:var(--text-muted); cursor:pointer;" onclick="closeAll()">&times;</div>
        
        <div class="profile">
            <div class="avatar">K</div>
            <h2 style="color:var(--text);">Kashif</h2>
            <p style="color: var(--accent); font-weight:bold; margin-bottom: 8px; font-size: 0.9rem;">Elite Full-Stack Architect</p>
            <p style="color: var(--text-muted); font-size: 0.8rem;">Innovative developer creating seamless solutions.</p>
        </div>
        
        <a href="index.html" class="menu-item" onclick="closeAll()"><span>&#8962;</span> Home</a>
        <a href="index.html" class="menu-item" onclick="closeAll()"><span>&#8730;</span> Scientific Mode</a>
        
        <a href="standard-deviation.html" class="menu-item" onclick="closeAll()"><span>&#963;</span> Standard Deviation</a>
        
        <a href="log-calculator.html" class="menu-item" onclick="closeAll()"><span>log</span> Log Calculator</a>
        
        <a href="exponent.html" class="menu-item" onclick="closeAll()"><span>^</span> Exponent Calculator</a>
        
        <div class="menu-item" style="background: var(--screen); color: var(--accent);" onclick="closeAll()"><span>½</span> Fraction Calculator</div>
        
        <a href="percentage.html" class="menu-item" onclick="closeAll()"><span>%</span> Percentage Calculator</a>
        
        <a href="bmi-calculator.html" class="menu-item" onclick="closeAll()"><span>&#9878;</span> BMI Calculator</a>
        
        <a href="mortgage-calculator.html" class="menu-item" onclick="closeAll()"><span>&#127969;</span> Mortgage Calculator</a>
        
        <div class="menu-item" onclick="handleNav('settings')"><span>&#9881;</span> Settings</div>
        
        <a href="contact.html" class="menu-item" onclick="closeAll()"><span>&#128100;</span> Contact Developer</a>
        
        <div class="menu-item" onclick="handleNav('signin')" style="margin-top:auto; background:var(--accent); color:white; justify-content: center; font-weight:bold;">Sign In</div>
    </div>

    <div class="modal" id="modal-signin">
        <span class="close-modal" onclick="closeAll()">&times;</span>
        <h3>Sign In</h3>
        <div class="input-group"><label>Email</label><input type="email" placeholder="Enter email"></div>
        <div class="input-group"><label>Password</label><input type="password" placeholder="Enter password"></div>
        <button class="modal-btn" onclick="showToast('Welcome back, Kashif!'); closeAll()">Login</button>
    </div>

    <div class="modal" id="modal-settings">
        <span class="close-modal" onclick="closeAll()">&times;</span>
        <h3>Settings</h3>
        <div class="switch-container">
            <span class="switch-label">Light Mode</span>
            <label class="switch"><input type="checkbox" id="theme-toggle" onchange="toggleTheme()"><span class="slider"></span></label>
        </div>
        <div class="switch-container">
            <span class="switch-label">Button Sounds</span>
            <label class="switch"><input type="checkbox" id="sound-toggle" onchange="saveSoundPref()"><span class="slider"></span></label>
        </div>
        <button class="modal-btn" onclick="showToast('Preferences Saved'); closeAll()">Done</button>
    </div>

    <header>
        <div class="hamburger" onclick="openSidebar()">&#9776;</div>
        <div class="brand">KASHIF <span>PRO</span></div>
        <div style="width: 24px;"></div>
    </header>

    <div class="main-content">
        
        <div class="calc-container">
            <div class="tabs">
                <div class="tab active" onclick="setMode('simple')">Simple Fractions</div>
                <div class="tab" onclick="setMode('mixed')">Mixed Numbers</div>
            </div>

            <div class="frac-group" id="input-area">
                
                <div style="display:flex; align-items:center;">
                    <input type="number" class="whole-input" id="w1" placeholder="1">
                    <div class="fraction-input">
                        <input type="number" id="n1" placeholder="Num">
                        <div class="frac-line"></div>
                        <input type="number" id="d1" placeholder="Den">
                    </div>
                </div>

                <select class="operator-select" id="operator">
                    <option value="add">+</option>
                    <option value="sub">&minus;</option>
                    <option value="mul">&times;</option>
                    <option value="div">&divide;</option>
                </select>

                <div style="display:flex; align-items:center;">
                    <input type="number" class="whole-input" id="w2" placeholder="2">
                    <div class="fraction-input">
                        <input type="number" id="n2" placeholder="Num">
                        <div class="frac-line"></div>
                        <input type="number" id="d2" placeholder="Den">
                    </div>
                </div>
            </div>

            <button class="action-btn" onclick="calculateFraction()">Calculate</button>
            <button class="action-btn clear-btn" onclick="clearFields()">Clear</button>

            <div class="result-box" id="result-box" style="display:none;">
                <div class="result-title">Result (Simplified)</div>
                <div class="result-value" id="res-fraction"></div>
                
                <div class="result-title" style="margin-top:15px;">Decimal Value</div>
                <div class="result-value" id="res-decimal" style="font-size: 1.2rem;"></div>

                <div class="result-title" style="margin-top:15px;">Steps</div>
                <p id="res-steps" style="color:var(--text-muted); font-size:0.9rem; margin-top:5px;"></p>
            </div>
        </div>

        <div class="seo-section">
            <h2>Comprehensive Fraction Calculator & Guide</h2>
            <p>Welcome to the <strong>Kashif's Pro Fraction Calculator</strong>. This specialized tool allows users to perform addition, subtraction, multiplication, and division of fractions with ease. Whether you are dealing with simple fractions, improper fractions, or mixed numbers, our algorithm automatically computes the result and simplifies it to its lowest terms.</p>

            
            <h3>Understanding Fractions</h3>
            <p>In mathematics, a fraction is a number that represents a part of a whole. It consists of a <strong>numerator</strong> (top number) and a <strong>denominator</strong> (bottom number). The numerator represents the number of equal parts you have, while the denominator represents the total number of parts that make up the whole.</p>
            [attachment_0](attachment)
            <p>For example, in the fraction $ \frac{3}{8} $, the numerator is 3 and the denominator is 8. A classic example is a pizza cut into 8 slices. If you eat 3 slices, you have consumed $ \frac{3}{8} $ of the pizza. Note that the denominator cannot be 0, as this creates an undefined mathematical state.</p>

            <h3>How to Use This Calculator</h3>
            <ul>
                <li><strong>Simple Mode:</strong> Use this for standard fractions like $ \frac{1}{2} $ or $ \frac{3}{4} $. Enter the values in the Numerator and Denominator fields.</li>
                <li><strong>Mixed Mode:</strong> Use this for mixed numbers like $ 1 \frac{1}{2} $. Toggle the tab at the top to reveal the "Whole Number" input box to the left of the fraction inputs.</li>
                <li><strong>Operations:</strong> Select your desired mathematical operation (+, -, ×, ÷) from the dropdown menu in the center.</li>
                <li><strong>Results:</strong> Click calculate to see the simplified fraction, the decimal equivalent, and a breakdown of the calculation logic.</li>
            </ul>

            <h3>Mathematical Operations Explained</h3>
            
            <h4>Addition of Fractions</h4>
            <p>Unlike integers, fractions require a <strong>Common Denominator</strong> to be added. The calculator automatically finds the Least Common Multiple (LCM) of the denominators.</p>
            <p>$$ \frac{a}{b} + \frac{c}{d} = \frac{ad + bc}{bd} $$</p>
            <p>Example: $ \frac{1}{4} + \frac{1}{6} $. The calculator finds 12 as the common denominator, converts the fractions to $ \frac{3}{12} + \frac{2}{12} $, and results in $ \frac{5}{12} $.</p>

            <h4>Subtraction</h4>
            <p>Subtraction follows the same logic as addition. A common denominator is established, and the numerators are subtracted.</p>
            <p>$$ \frac{a}{b} - \frac{c}{d} = \frac{ad - bc}{bd} $$</p>

            <h4>Multiplication</h4>
            <p>Multiplying fractions is straightforward. You do not need a common denominator. Simply multiply the numerators together and the denominators together.</p>
            <p>$$ \frac{a}{b} \times \frac{c}{d} = \frac{ac}{bd} $$</p>

            <h4>Division</h4>
            <p>To divide fractions, the calculator multiplies the first fraction by the <strong>reciprocal</strong> of the second fraction (flipping the numerator and denominator).</p>
            <p>$$ \frac{a}{b} \div \frac{c}{d} = \frac{a}{b} \times \frac{d}{c} = \frac{ad}{bc} $$</p>

            <h3>Simplification and Conversion</h3>
            <p>It is always standard practice to express fractions in their simplest form. For example, $ \frac{20}{40} $ is mathematically correct, but $ \frac{1}{2} $ is preferred. Our tool automatically divides both the numerator and denominator by their Greatest Common Divisor (GCD) to provide the cleanest answer.</p>
            <p>Furthermore, the tool converts your fraction into a <strong>Decimal</strong>. This is useful for engineering contexts where precision floating-point numbers are required. For instance, $ \frac{1}{8} $ converts directly to 0.125.</p>
            
            <h3>Why Use the Mixed Numbers Calculator?</h3>
            <p>Mixed numbers are frequently used in construction, cooking recipes, and carpentry. Adding $ 2 \frac{1}{2} $ cups of flour to $ 1 \frac{3}{4} $ cups requires converting them to improper fractions first. This calculator handles that conversion internally ($ \frac{5}{2} + \frac{7}{4} $) and returns the result back in a readable format.</p>
        </div>

        <div class="footer-credit">
            Architected & Engineered by <span>Kashif Dawar</span> | <a href="index.html">Home</a> | <a href="contact.html">Contact Us</a> | <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Use</a>
        </div>
    </div>

    <script>
        // --- CONFIG & STATE ---
        const themeToggle = document.getElementById('theme-toggle');
        const soundToggle = document.getElementById('sound-toggle');

        window.onload = function() {
            if (localStorage.getItem('theme') === 'light') { document.body.classList.add('light-mode'); if(themeToggle) themeToggle.checked = true; }
            if (localStorage.getItem('sound') === 'on') { if(soundToggle) soundToggle.checked = true; }
        };

        // --- NAVIGATION HANDLERS ---
        function openSidebar() { document.getElementById('sidebar').classList.add('open'); document.getElementById('overlay').classList.add('active'); }
        
        function closeAll() {
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('modal-signin').classList.remove('active');
            document.getElementById('modal-settings').classList.remove('active');
        }

        function handleNav(action) {
            if (action === 'settings') {
                closeAll();
                setTimeout(() => { document.getElementById('modal-settings').classList.add('active'); document.getElementById('overlay').classList.add('active'); }, 300);
            }
            else if (action === 'signin') {
                closeAll();
                setTimeout(() => { document.getElementById('modal-signin').classList.add('active'); document.getElementById('overlay').classList.add('active'); }, 300);
            }
        }

        function showToast(msg) {
            const toast = document.getElementById('toast'); toast.innerText = msg; toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // --- SETTINGS LOGIC ---
        function toggleTheme() {
            if (themeToggle.checked) { document.body.classList.add('light-mode'); localStorage.setItem('theme', 'light'); }
            else { document.body.classList.remove('light-mode'); localStorage.setItem('theme', 'dark'); }
        }
        function saveSoundPref() { localStorage.setItem('sound', soundToggle.checked ? 'on' : 'off'); }


        // --- CALCULATOR LOGIC ---
        let isMixed = false;

        function setMode(mode) {
            isMixed = (mode === 'mixed');
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.body.classList.toggle('mixed-mode', isMixed);
            clearFields();
        }

        function gcd(a, b) { return b === 0 ? a : gcd(b, a % b); }

        function calculateFraction() {
            // Get inputs
            let w1 = parseInt(document.getElementById('w1').value) || 0;
            let n1 = parseInt(document.getElementById('n1').value);
            let d1 = parseInt(document.getElementById('d1').value);
            
            let w2 = parseInt(document.getElementById('w2').value) || 0;
            let n2 = parseInt(document.getElementById('n2').value);
            let d2 = parseInt(document.getElementById('d2').value);
            
            const op = document.getElementById('operator').value;

            // Validation
            if (isNaN(n1) || isNaN(d1) || isNaN(n2) || isNaN(d2)) { showToast("Please fill in all fraction fields"); return; }
            if (d1 === 0 || d2 === 0) { showToast("Denominator cannot be zero"); return; }

            // Convert Mixed to Improper: (Whole * Den + Num) / Den
            let num1 = (w1 * d1) + n1;
            let num2 = (w2 * d2) + n2;

            let finalNum, finalDen;
            let stepText = "";

            if (op === 'add') {
                // (n1*d2 + n2*d1) / (d1*d2)
                finalNum = (num1 * d2) + (num2 * d1);
                finalDen = d1 * d2;
                stepText = `Cross multiplied to find common denominator: (${num1} × ${d2}) + (${num2} × ${d1}) over (${d1} × ${d2})`;
            } else if (op === 'sub') {
                finalNum = (num1 * d2) - (num2 * d1);
                finalDen = d1 * d2;
                stepText = `Cross multiplied to find common denominator: (${num1} × ${d2}) - (${num2} × ${d1}) over (${d1} × ${d2})`;
            } else if (op === 'mul') {
                finalNum = num1 * num2;
                finalDen = d1 * d2;
                stepText = `Multiplied numerators (${num1} × ${num2}) and denominators (${d1} × ${d2})`;
            } else if (op === 'div') {
                finalNum = num1 * d2;
                finalDen = d1 * num2;
                stepText = `Multiplied by reciprocal: ${num1}/${d1} × ${d2}/${num2}`;
            }

            if (finalDen === 0) { showToast("Result is undefined (division by zero)"); return; }

            // Simplify
            const common = Math.abs(gcd(finalNum, finalDen));
            const simpleNum = finalNum / common;
            const simpleDen = finalDen / common;

            // Display
            const resultBox = document.getElementById('result-box');
            const resFraction = document.getElementById('res-fraction');
            const resDecimal = document.getElementById('res-decimal');
            const resSteps = document.getElementById('res-steps');

            let fractionHTML = '';
            
            // Check if result is whole number
            if (simpleDen === 1) {
                fractionHTML = `${simpleNum}`;
            } else {
                // Formatting mixed result if needed
                let wholePart = 0;
                let remNum = simpleNum;
                if (Math.abs(simpleNum) > Math.abs(simpleDen)) {
                    wholePart = Math.trunc(simpleNum / simpleDen);
                    remNum = Math.abs(simpleNum % simpleDen);
                    fractionHTML = `${wholePart} <div class="fraction-input" style="width:auto; margin-left:10px;"><div style="border-bottom:2px solid var(--accent);">${remNum}</div><div>${simpleDen}</div></div>`;
                } else {
                    fractionHTML = `<div class="fraction-input" style="width:auto;"><div style="border-bottom:2px solid var(--accent);">${simpleNum}</div><div>${simpleDen}</div></div>`;
                }
            }

            resFraction.innerHTML = fractionHTML;
            resDecimal.innerText = (simpleNum / simpleDen).toFixed(4);
            resSteps.innerText = stepText + `. Simplified by dividing by ${common}.`;
            
            resultBox.style.display = 'block';
            resultBox.scrollIntoView({behavior: "smooth"});
        }

        function clearFields() {
            document.querySelectorAll('input').forEach(i => i.value = '');
            document.getElementById('result-box').style.display = 'none';
        }
    </script>
</body>
</html>
